<ion-header [translucent]="true">
  <ion-toolbar class="ion-color">
    <ion-title>
      Flight Tracker
    </ion-title>
    <ion-progress-bar *ngIf="isLoading"
                      type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="map-wrapper">
    <div class="ui-overlay">
      <span class="num-of-planes ion-padding ion-margin-top"
            *ngIf="!flightView && numVisiblePlanes !== 0">{{numVisiblePlanes}} Aircrafts</span>
      <ion-fab *ngIf="flightView"
               slot="fixed"
               vertical="top"
               horizontal="start"
               (click)="onQuitFlightView()"
               class="arrow-back">
        <ion-fab-button>
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab>
      <app-info-container [ngStyle]="{'visibility': selectedAircraft && selectedAircraft.dynamic ? 'visible' : 'hidden'}"
                          [selectedAircraft]="selectedAircraft"></app-info-container>
      <ion-fab *ngIf="!flightView"
               slot="fixed"
               vertical="bottom"
               horizontal="end"
               class="my-location-button">
        <ion-fab-button>
          <ion-icon name="navigate-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab>
      <app-airplane-card class="card-container"
                         [ngClass]="{'flight-view': flightView, 'portrait': isPortrait}"
                         [aircraft]="selectedAircraft"></app-airplane-card>


    </div>
    <div #mapContainer
         class="map-container">
    </div>
  </div>
</ion-content>